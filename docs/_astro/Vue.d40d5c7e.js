import{d as I,c as h,a as t,w as g,b as r,v as T,F as M,r as S,t as y,n as v,e as f,f as C,g as w,o as K,h as D,i as m,j as E,k as U,l as A}from"./runtime-dom.esm-bundler.abf1b66d.js";const B=(u,a)=>{const c=u.__vccOpts||u;for(const[e,d]of a)c[e]=d;return c},b="todomvc",N=I({__name:"Vue",setup(u,{expose:a}){a();const c=f(),e=f(""),d=f(JSON.parse(localStorage.getItem(b)??"[]")),s=f("all"),l=C(()=>s.value==="all"?[...d.value]:s.value==="completed"?d.value.filter(o=>o.completed):s.value==="active"?d.value.filter(o=>!o.completed):[]),n=C(()=>d.value.filter(o=>!o.completed).length);w(d,o=>{localStorage.setItem(b,JSON.stringify(o))},{flush:"sync",deep:!0}),K(()=>globalThis.addEventListener("hashchange",_)),D(()=>globalThis.removeEventListener("hashchange",_));function i(o){const p=o.target;p.value&&(d.value.push({id:String(Date.now()),title:p.value.trim(),completed:!1}),p.value="")}function V(){n.value===0?d.value.forEach(o=>o.completed=!1):d.value.forEach(o=>o.completed=!0)}function _(){const o=globalThis.location.hash.replace(/#\/?/,"");if(o==="all"||o==="active"||o==="completed"){s.value=o;return}globalThis.location.hash="",s.value="all"}function x({el:o}){o.focus()}const k={storageKey:b,editedTodoId:c,editedTodoMemo:e,todos:d,filteredType:s,filteredTodos:l,activeCount:n,addTodo:i,toggleAll:V,handleHashChange:_,handleVnodeMounted:x};return Object.defineProperty(k,"__isScriptSetup",{enumerable:!1,value:!0}),k}}),O={class:"todoapp"},L={class:"header"},j=t("h1",null,"todos",-1),F=["onKeyup"],J={class:"main"},z=["checked"],H=t("label",{for:"toggle-all"},"Mark all as complete",-1),P={class:"todo-list"},W={class:"view"},q=["onUpdate:modelValue"],G=["onDblclick"],Q=["onClick"],R=["onUpdate:modelValue","onKeyup"],X={class:"footer"},Y={class:"todo-count"},Z={class:"filters"};function $(u,a,c,e,d,s){return m(),h("section",O,[t("header",L,[j,t("input",{class:"new-todo",autofocus:"",placeholder:"What needs to be done?",onKeyup:g(e.addTodo,["enter"])},null,40,F)]),r(t("section",J,[t("input",{id:"toggle-all",class:"toggle-all",type:"checkbox",checked:e.activeCount===0,onChange:e.toggleAll},null,40,z),H,t("ul",P,[(m(!0),h(M,null,S(e.filteredTodos,l=>(m(),h("li",{class:v(["todo",{completed:l.completed,editing:e.editedTodoId===l.id}]),key:l.id},[t("div",W,[r(t("input",{class:"toggle",type:"checkbox","onUpdate:modelValue":n=>l.completed=n},null,8,q),[[E,l.completed]]),t("label",{onDblclick:n=>(e.editedTodoId=l.id,e.editedTodoMemo=l.title)},y(l.title),41,G),t("button",{class:"destroy",onClick:n=>e.todos.splice(e.todos.findIndex(i=>i.id===l.id),1)},null,8,Q)]),l.id===e.editedTodoId?r((m(),h("input",{key:0,class:"edit",type:"text","onUpdate:modelValue":n=>l.title=n,onBlur:a[0]||(a[0]=n=>e.editedTodoId=void 0),onKeyup:[a[1]||(a[1]=g(n=>e.editedTodoId=void 0,["enter"])),g(n=>(e.editedTodoId=void 0,e.todos.find(i=>i.id===l.id&&(i.title=e.editedTodoMemo))),["escape"])],onVnodeMounted:e.handleVnodeMounted},null,40,R)),[[U,l.title]]):A("",!0)],2))),128))])],512),[[T,e.filteredTodos.length]]),r(t("footer",X,[t("span",Y,[t("strong",null,y(e.activeCount),1),t("span",null,y(e.activeCount===1?" item":" items")+" left",1)]),t("ul",Z,[t("li",null,[t("a",{href:"#/all",class:v({selected:e.filteredType==="all"})},"All",2)]),t("li",null,[t("a",{href:"#/active",class:v({selected:e.filteredType==="active"})},"Active",2)]),t("li",null,[t("a",{href:"#/completed",class:v({selected:e.filteredType==="completed"})},"Completed",2)])]),r(t("button",{class:"clear-completed",onClick:a[2]||(a[2]=l=>e.todos=e.todos.filter(n=>!n.completed))}," Clear completed ",512),[[T,e.activeCount<e.todos.length]])],512),[[T,e.todos.length]])])}const te=B(N,[["render",$]]);export{te as default};
